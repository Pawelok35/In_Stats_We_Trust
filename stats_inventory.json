[
  {
    "stat_key": "L1.season",
    "display_name": "Season",
    "layer": "L1",
    "file_path": "etl/mappers.py",
    "function": "canonicalize_l1",
    "lines": "57-98",
    "inputs": "ingest params",
    "derived_from": "etl/l1_ingest.py:run (provider parquet)",
    "written_to": "data/l1/<season>/<week>.parquet",
    "used_by": "etl/l2_clean.py:run",
    "tests": "tests/test_l1_ingest.py::test_l1_ingest_filesystem_roundtrip",
    "aliases": null
  },
  {
    "stat_key": "L1.week",
    "display_name": "Week",
    "layer": "L1",
    "file_path": "etl/mappers.py",
    "function": "canonicalize_l1",
    "lines": "57-98",
    "inputs": "ingest params",
    "derived_from": "etl/l1_ingest.py:run (provider parquet)",
    "written_to": "data/l1/<season>/<week>.parquet",
    "used_by": "etl/l2_clean.py:run",
    "tests": "tests/test_l1_ingest.py::test_l1_ingest_filesystem_roundtrip",
    "aliases": null
  },
  {
    "stat_key": "L1.game_id",
    "display_name": "Game ID",
    "layer": "L1",
    "file_path": "etl/mappers.py",
    "function": "canonicalize_l1",
    "lines": "57-98",
    "inputs": "raw['game_id']",
    "derived_from": "etl/l1_ingest.py:run (provider parquet)",
    "written_to": "data/l1/<season>/<week>.parquet",
    "used_by": "etl/l2_clean.py:run",
    "tests": "tests/test_l1_ingest.py::test_l1_ingest_filesystem_roundtrip",
    "aliases": null
  },
  {
    "stat_key": "L1.play_id",
    "display_name": "Play ID",
    "layer": "L1",
    "file_path": "etl/mappers.py",
    "function": "canonicalize_l1",
    "lines": "57-98",
    "inputs": "raw['play_id']",
    "derived_from": "etl/l1_ingest.py:run (provider parquet)",
    "written_to": "data/l1/<season>/<week>.parquet",
    "used_by": "etl/l2_clean.py:run",
    "tests": "tests/test_l1_ingest.py::test_l1_ingest_filesystem_roundtrip",
    "aliases": null
  },
  {
    "stat_key": "L1.posteam",
    "display_name": "Possessing team",
    "layer": "L1",
    "file_path": "etl/mappers.py",
    "function": "canonicalize_l1",
    "lines": "57-98",
    "inputs": "raw['posteam']",
    "derived_from": "etl/l1_ingest.py:run (provider parquet)",
    "written_to": "data/l1/<season>/<week>.parquet",
    "used_by": "etl/l2_clean.py:run",
    "tests": "tests/test_l1_ingest.py::test_l1_ingest_filesystem_roundtrip",
    "aliases": "TEAM (L2)"
  },
  {
    "stat_key": "L1.defteam",
    "display_name": "Defending team",
    "layer": "L1",
    "file_path": "etl/mappers.py",
    "function": "canonicalize_l1",
    "lines": "57-98",
    "inputs": "raw['defteam']",
    "derived_from": "etl/l1_ingest.py:run (provider parquet)",
    "written_to": "data/l1/<season>/<week>.parquet",
    "used_by": "etl/l2_clean.py:run",
    "tests": "tests/test_l1_ingest.py::test_l1_ingest_filesystem_roundtrip",
    "aliases": "OPP (L2)"
  },
  {
    "stat_key": "L1.drive",
    "display_name": "Drive number",
    "layer": "L1",
    "file_path": "etl/mappers.py",
    "function": "canonicalize_l1",
    "lines": "57-98",
    "inputs": "raw['drive']",
    "derived_from": "etl/l1_ingest.py:run (provider parquet)",
    "written_to": "data/l1/<season>/<week>.parquet",
    "used_by": "etl/l2_clean.py:run",
    "tests": "tests/test_l1_ingest.py::test_l1_ingest_filesystem_roundtrip",
    "aliases": null
  },
  {
    "stat_key": "L1.play_type",
    "display_name": "Play type",
    "layer": "L1",
    "file_path": "etl/mappers.py",
    "function": "canonicalize_l1",
    "lines": "57-98",
    "inputs": "raw['play_type']",
    "derived_from": "etl/l1_ingest.py:run (provider parquet)",
    "written_to": "data/l1/<season>/<week>.parquet",
    "used_by": "etl/l2_clean.py:run",
    "tests": "tests/test_l1_ingest.py::test_l1_ingest_filesystem_roundtrip",
    "aliases": null
  },
  {
    "stat_key": "L1.epa",
    "display_name": "Expected points added",
    "layer": "L1",
    "file_path": "etl/mappers.py",
    "function": "canonicalize_l1",
    "lines": "57-98",
    "inputs": "raw['epa']",
    "derived_from": "etl/l1_ingest.py:run (provider parquet)",
    "written_to": "data/l1/<season>/<week>.parquet",
    "used_by": "etl/l2_clean.py:run",
    "tests": "tests/test_l1_ingest.py::test_l1_ingest_filesystem_roundtrip",
    "aliases": null
  },
  {
    "stat_key": "L1.success",
    "display_name": "Success probability",
    "layer": "L1",
    "file_path": "etl/mappers.py",
    "function": "canonicalize_l1",
    "lines": "57-98",
    "inputs": "raw['success']",
    "derived_from": "etl/l1_ingest.py:run (provider parquet)",
    "written_to": "data/l1/<season>/<week>.parquet",
    "used_by": "etl/l2_clean.py:run",
    "tests": "tests/test_l1_ingest.py::test_l1_ingest_filesystem_roundtrip",
    "aliases": null
  },
  {
    "stat_key": "L1.yardline_100",
    "display_name": "Field position (to EZ)",
    "layer": "L1",
    "file_path": "etl/mappers.py",
    "function": "canonicalize_l1",
    "lines": "57-98",
    "inputs": "raw['yardline_100']",
    "derived_from": "etl/l1_ingest.py:run (provider parquet)",
    "written_to": "data/l1/<season>/<week>.parquet",
    "used_by": "etl/l2_clean.py:run",
    "tests": "tests/test_l1_ingest.py::test_l1_ingest_filesystem_roundtrip",
    "aliases": null
  },
  {
    "stat_key": "L1.down",
    "display_name": "Down",
    "layer": "L1",
    "file_path": "etl/mappers.py",
    "function": "canonicalize_l1",
    "lines": "57-98",
    "inputs": "raw['down']",
    "derived_from": "etl/l1_ingest.py:run (provider parquet)",
    "written_to": "data/l1/<season>/<week>.parquet",
    "used_by": "etl/l2_clean.py:run",
    "tests": "tests/test_l1_ingest.py::test_l1_ingest_filesystem_roundtrip",
    "aliases": null
  },
  {
    "stat_key": "L1.distance",
    "display_name": "Yards to go",
    "layer": "L1",
    "file_path": "etl/mappers.py",
    "function": "canonicalize_l1",
    "lines": "57-98",
    "inputs": "raw distance/ydstogo",
    "derived_from": "etl/l1_ingest.py:run (provider parquet)",
    "written_to": "data/l1/<season>/<week>.parquet",
    "used_by": "etl/l2_clean.py:run",
    "tests": "tests/test_l1_ingest.py::test_l1_ingest_filesystem_roundtrip",
    "aliases": null
  },
  {
    "stat_key": "L2.season",
    "display_name": "Season",
    "layer": "L2",
    "file_path": "etl/mappers.py",
    "function": "prepare_l2",
    "lines": "116-212",
    "inputs": "L1.season",
    "derived_from": "L1 canonical dataframe",
    "written_to": "data/l2/<season>/<week>.parquet",
    "used_by": "etl/l3_aggregate.py:_aggregate",
    "tests": "tests/test_l2_clean.py::test_l2_clean_generates_normalized_artifacts",
    "aliases": null
  },
  {
    "stat_key": "L2.week",
    "display_name": "Week",
    "layer": "L2",
    "file_path": "etl/mappers.py",
    "function": "prepare_l2",
    "lines": "116-212",
    "inputs": "L1.week",
    "derived_from": "L1 canonical dataframe",
    "written_to": "data/l2/<season>/<week>.parquet",
    "used_by": "etl/l3_aggregate.py:_aggregate",
    "tests": "tests/test_l2_clean.py::test_l2_clean_generates_normalized_artifacts",
    "aliases": null
  },
  {
    "stat_key": "L2.game_id",
    "display_name": "Game ID",
    "layer": "L2",
    "file_path": "etl/mappers.py",
    "function": "prepare_l2",
    "lines": "116-212",
    "inputs": "L1.game_id",
    "derived_from": "L1 canonical dataframe",
    "written_to": "data/l2/<season>/<week>.parquet",
    "used_by": "etl/l3_aggregate.py:_aggregate",
    "tests": "tests/test_l2_clean.py::test_l2_clean_generates_normalized_artifacts",
    "aliases": null
  },
  {
    "stat_key": "L2.play_id",
    "display_name": "Play ID",
    "layer": "L2",
    "file_path": "etl/mappers.py",
    "function": "prepare_l2",
    "lines": "116-212",
    "inputs": "L1.play_id",
    "derived_from": "L1 canonical dataframe",
    "written_to": "data/l2/<season>/<week>.parquet",
    "used_by": "etl/l3_aggregate.py:_aggregate",
    "tests": "tests/test_l2_clean.py::test_l2_clean_generates_normalized_artifacts",
    "aliases": null
  },
  {
    "stat_key": "L2.TEAM",
    "display_name": "Possessing team (normalized)",
    "layer": "L2",
    "file_path": "etl/mappers.py",
    "function": "prepare_l2",
    "lines": "116-212",
    "inputs": "L1.posteam",
    "derived_from": "L1 canonical dataframe",
    "written_to": "data/l2/<season>/<week>.parquet",
    "used_by": "etl/l3_aggregate.py:_aggregate",
    "tests": "tests/test_l2_clean.py::test_l2_clean_generates_normalized_artifacts",
    "aliases": "team (reports, L4)"
  },
  {
    "stat_key": "L2.OPP",
    "display_name": "Opponent team",
    "layer": "L2",
    "file_path": "etl/mappers.py",
    "function": "prepare_l2",
    "lines": "116-212",
    "inputs": "L1.defteam",
    "derived_from": "L1 canonical dataframe",
    "written_to": "data/l2/<season>/<week>.parquet",
    "used_by": "etl/l3_aggregate.py:_aggregate",
    "tests": "tests/test_l2_clean.py::test_l2_clean_generates_normalized_artifacts",
    "aliases": null
  },
  {
    "stat_key": "L2.drive",
    "display_name": "Drive",
    "layer": "L2",
    "file_path": "etl/mappers.py",
    "function": "prepare_l2",
    "lines": "116-212",
    "inputs": "L1.drive",
    "derived_from": "L1 canonical dataframe",
    "written_to": "data/l2/<season>/<week>.parquet",
    "used_by": "etl/l3_aggregate.py:_aggregate",
    "tests": "tests/test_l2_clean.py::test_l2_clean_generates_normalized_artifacts",
    "aliases": null
  },
  {
    "stat_key": "L2.play_type",
    "display_name": "Play type",
    "layer": "L2",
    "file_path": "etl/mappers.py",
    "function": "prepare_l2",
    "lines": "116-212",
    "inputs": "L1.play_type",
    "derived_from": "L1 canonical dataframe",
    "written_to": "data/l2/<season>/<week>.parquet",
    "used_by": "etl/l3_aggregate.py:_aggregate",
    "tests": "tests/test_l2_clean.py::test_l2_clean_generates_normalized_artifacts",
    "aliases": null
  },
  {
    "stat_key": "L2.epa",
    "display_name": "Expected points added",
    "layer": "L2",
    "file_path": "etl/mappers.py",
    "function": "prepare_l2",
    "lines": "116-212",
    "inputs": "L1.epa",
    "derived_from": "L1 canonical dataframe",
    "written_to": "data/l2/<season>/<week>.parquet",
    "used_by": "etl/l3_aggregate.py:_aggregate",
    "tests": "tests/test_l2_clean.py::test_l2_clean_generates_normalized_artifacts",
    "aliases": null
  },
  {
    "stat_key": "L2.success",
    "display_name": "Success probability",
    "layer": "L2",
    "file_path": "etl/mappers.py",
    "function": "prepare_l2",
    "lines": "116-212",
    "inputs": "L1.success",
    "derived_from": "L1 canonical dataframe",
    "written_to": "data/l2/<season>/<week>.parquet",
    "used_by": "etl/l3_aggregate.py:_aggregate",
    "tests": "tests/test_l2_clean.py::test_l2_clean_generates_normalized_artifacts",
    "aliases": null
  },
  {
    "stat_key": "L2.yards_gained",
    "display_name": "Yards gained",
    "layer": "L2",
    "file_path": "etl/mappers.py",
    "function": "prepare_l2",
    "lines": "116-212",
    "inputs": "raw or null fill",
    "derived_from": "L1 canonical dataframe",
    "written_to": "data/l2/<season>/<week>.parquet",
    "used_by": "etl/l3_aggregate.py:_aggregate",
    "tests": "tests/test_l2_clean.py::test_l2_clean_generates_normalized_artifacts",
    "aliases": null
  },
  {
    "stat_key": "L2.success_bin",
    "display_name": "Success flag (>=0.5)",
    "layer": "L2",
    "file_path": "etl/mappers.py",
    "function": "prepare_l2",
    "lines": "116-212",
    "inputs": "computed from success",
    "derived_from": "L1 canonical dataframe",
    "written_to": "data/l2/<season>/<week>.parquet",
    "used_by": "etl/l3_aggregate.py:_aggregate",
    "tests": "tests/test_l2_clean.py::test_l2_clean_generates_normalized_artifacts",
    "aliases": null
  },
  {
    "stat_key": "L3.season",
    "display_name": "Season",
    "layer": "L3",
    "file_path": "etl/l3_aggregate.py",
    "function": "_aggregate",
    "lines": "42-84",
    "inputs": "L2.season",
    "derived_from": "L2 cleaned dataframe",
    "written_to": "data/l3_team_week/<season>/<week>.parquet",
    "used_by": "metrics/core12.py:compute",
    "tests": "tests/test_l3_counts.py::test_l3_aggregation_produces_team_metrics",
    "aliases": null
  },
  {
    "stat_key": "L3.week",
    "display_name": "Week",
    "layer": "L3",
    "file_path": "etl/l3_aggregate.py",
    "function": "_aggregate",
    "lines": "42-84",
    "inputs": "L2.week",
    "derived_from": "L2 cleaned dataframe",
    "written_to": "data/l3_team_week/<season>/<week>.parquet",
    "used_by": "metrics/core12.py:compute",
    "tests": "tests/test_l3_counts.py::test_l3_aggregation_produces_team_metrics",
    "aliases": null
  },
  {
    "stat_key": "L3.TEAM",
    "display_name": "Team code",
    "layer": "L3",
    "file_path": "etl/l3_aggregate.py",
    "function": "_aggregate",
    "lines": "42-84",
    "inputs": "L2.TEAM",
    "derived_from": "L2 cleaned dataframe",
    "written_to": "data/l3_team_week/<season>/<week>.parquet",
    "used_by": "metrics/core12.py:compute",
    "tests": "tests/test_l3_counts.py::test_l3_aggregation_produces_team_metrics",
    "aliases": "team (Core12)"
  },
  {
    "stat_key": "L3.drives",
    "display_name": "Unique drives",
    "layer": "L3",
    "file_path": "etl/l3_aggregate.py",
    "function": "_aggregate",
    "lines": "42-84",
    "inputs": "group by drive",
    "derived_from": "L2 cleaned dataframe",
    "written_to": "data/l3_team_week/<season>/<week>.parquet",
    "used_by": "metrics/core12.py:compute",
    "tests": "tests/test_l3_counts.py::test_l3_aggregation_produces_team_metrics",
    "aliases": null
  },
  {
    "stat_key": "L3.plays",
    "display_name": "Play count",
    "layer": "L3",
    "file_path": "etl/l3_aggregate.py",
    "function": "_aggregate",
    "lines": "42-84",
    "inputs": "group len",
    "derived_from": "L2 cleaned dataframe",
    "written_to": "data/l3_team_week/<season>/<week>.parquet",
    "used_by": "metrics/core12.py:compute",
    "tests": "tests/test_l3_counts.py::test_l3_aggregation_produces_team_metrics",
    "aliases": null
  },
  {
    "stat_key": "L3.epa_off_mean",
    "display_name": "Mean offensive EPA",
    "layer": "L3",
    "file_path": "etl/l3_aggregate.py",
    "function": "_aggregate",
    "lines": "42-84",
    "inputs": "mean of epa",
    "derived_from": "L2 cleaned dataframe",
    "written_to": "data/l3_team_week/<season>/<week>.parquet",
    "used_by": "metrics/core12.py:compute",
    "tests": "tests/test_l3_counts.py::test_l3_aggregation_produces_team_metrics",
    "aliases": null
  },
  {
    "stat_key": "L3.success_rate_off",
    "display_name": "Offensive success rate",
    "layer": "L3",
    "file_path": "etl/l3_aggregate.py",
    "function": "_aggregate",
    "lines": "42-84",
    "inputs": "mean of success",
    "derived_from": "L2 cleaned dataframe",
    "written_to": "data/l3_team_week/<season>/<week>.parquet",
    "used_by": "metrics/core12.py:compute",
    "tests": "tests/test_l3_counts.py::test_l3_aggregation_produces_team_metrics",
    "aliases": null
  },
  {
    "stat_key": "L3.epa_def_mean",
    "display_name": "Mean defensive EPA allowed",
    "layer": "L3",
    "file_path": "etl/l3_aggregate.py",
    "function": "_aggregate",
    "lines": "42-84",
    "inputs": "mean by OPP",
    "derived_from": "L2 cleaned dataframe",
    "written_to": "data/l3_team_week/<season>/<week>.parquet",
    "used_by": "metrics/core12.py:compute",
    "tests": "tests/test_l3_counts.py::test_l3_aggregation_produces_team_metrics",
    "aliases": null
  },
  {
    "stat_key": "L3.success_rate_def",
    "display_name": "Defensive success rate",
    "layer": "L3",
    "file_path": "etl/l3_aggregate.py",
    "function": "_aggregate",
    "lines": "42-84",
    "inputs": "mean success by OPP",
    "derived_from": "L2 cleaned dataframe",
    "written_to": "data/l3_team_week/<season>/<week>.parquet",
    "used_by": "metrics/core12.py:compute",
    "tests": "tests/test_l3_counts.py::test_l3_aggregation_produces_team_metrics",
    "aliases": null
  },
  {
    "stat_key": "L3.tempo",
    "display_name": "Plays per drive",
    "layer": "L3",
    "file_path": "etl/l3_aggregate.py",
    "function": "_aggregate",
    "lines": "42-84",
    "inputs": "plays/drives",
    "derived_from": "L2 cleaned dataframe",
    "written_to": "data/l3_team_week/<season>/<week>.parquet",
    "used_by": "metrics/core12.py:compute",
    "tests": "tests/test_l3_counts.py::test_l3_aggregation_produces_team_metrics",
    "aliases": null
  },
  {
    "stat_key": "L4Core12.season",
    "display_name": "Season",
    "layer": "L4 Core12",
    "file_path": "metrics/core12.py",
    "function": "compute",
    "lines": "46-126",
    "inputs": "L3.season",
    "derived_from": "L3 team-week aggregates",
    "written_to": "data/l4_core12/<season>/<week>.parquet",
    "used_by": "metrics/power_score.py:compute; app/reports.generate_team_report",
    "tests": "tests/test_metrics_core12.py::test_core12_compute_generates_expected_columns",
    "aliases": null
  },
  {
    "stat_key": "L4Core12.week",
    "display_name": "Week",
    "layer": "L4 Core12",
    "file_path": "metrics/core12.py",
    "function": "compute",
    "lines": "46-126",
    "inputs": "L3.week",
    "derived_from": "L3 team-week aggregates",
    "written_to": "data/l4_core12/<season>/<week>.parquet",
    "used_by": "metrics/power_score.py:compute; app/reports.generate_team_report",
    "tests": "tests/test_metrics_core12.py::test_core12_compute_generates_expected_columns",
    "aliases": null
  },
  {
    "stat_key": "L4Core12.TEAM",
    "display_name": "Team code",
    "layer": "L4 Core12",
    "file_path": "metrics/core12.py",
    "function": "compute",
    "lines": "46-126",
    "inputs": "L3.TEAM",
    "derived_from": "L3 team-week aggregates",
    "written_to": "data/l4_core12/<season>/<week>.parquet",
    "used_by": "metrics/power_score.py:compute; app/reports.generate_team_report",
    "tests": "tests/test_metrics_core12.py::test_core12_compute_generates_expected_columns",
    "aliases": "team (PowerScore/report previews)"
  },
  {
    "stat_key": "L4Core12.core_epa_off",
    "display_name": "Core EPA offense",
    "layer": "L4 Core12",
    "file_path": "metrics/core12.py",
    "function": "compute",
    "lines": "46-126",
    "inputs": "L3.epa_off_mean",
    "derived_from": "L3 team-week aggregates",
    "written_to": "data/l4_core12/<season>/<week>.parquet",
    "used_by": "metrics/power_score.py:compute; app/reports.generate_team_report",
    "tests": "tests/test_metrics_core12.py::test_core12_compute_generates_expected_columns",
    "aliases": null
  },
  {
    "stat_key": "L4Core12.core_epa_def",
    "display_name": "Core EPA defense",
    "layer": "L4 Core12",
    "file_path": "metrics/core12.py",
    "function": "compute",
    "lines": "46-126",
    "inputs": "-L3.epa_def_mean",
    "derived_from": "L3 team-week aggregates",
    "written_to": "data/l4_core12/<season>/<week>.parquet",
    "used_by": "metrics/power_score.py:compute; app/reports.generate_team_report",
    "tests": "tests/test_metrics_core12.py::test_core12_compute_generates_expected_columns",
    "aliases": null
  },
  {
    "stat_key": "L4Core12.core_sr_off",
    "display_name": "Core SR offense",
    "layer": "L4 Core12",
    "file_path": "metrics/core12.py",
    "function": "compute",
    "lines": "46-126",
    "inputs": "L3.success_rate_off",
    "derived_from": "L3 team-week aggregates",
    "written_to": "data/l4_core12/<season>/<week>.parquet",
    "used_by": "metrics/power_score.py:compute; app/reports.generate_team_report",
    "tests": "tests/test_metrics_core12.py::test_core12_compute_generates_expected_columns",
    "aliases": null
  },
  {
    "stat_key": "L4Core12.core_sr_def",
    "display_name": "Core SR defense",
    "layer": "L4 Core12",
    "file_path": "metrics/core12.py",
    "function": "compute",
    "lines": "46-126",
    "inputs": "1 - success_rate_def",
    "derived_from": "L3 team-week aggregates",
    "written_to": "data/l4_core12/<season>/<week>.parquet",
    "used_by": "metrics/power_score.py:compute; app/reports.generate_team_report",
    "tests": "tests/test_metrics_core12.py::test_core12_compute_generates_expected_columns",
    "aliases": null
  },
  {
    "stat_key": "L4Core12.core_ed_sr_off",
    "display_name": "Explosive drive SR",
    "layer": "L4 Core12",
    "file_path": "metrics/core12.py",
    "function": "compute",
    "lines": "46-126",
    "inputs": "success_rate_off * tempo",
    "derived_from": "L3 team-week aggregates",
    "written_to": "data/l4_core12/<season>/<week>.parquet",
    "used_by": "metrics/power_score.py:compute; app/reports.generate_team_report",
    "tests": "tests/test_metrics_core12.py::test_core12_compute_generates_expected_columns",
    "aliases": null
  },
  {
    "stat_key": "L4Core12.core_third_down_conv",
    "display_name": "3rd down conversion proxy",
    "layer": "L4 Core12",
    "file_path": "metrics/core12.py",
    "function": "compute",
    "lines": "46-126",
    "inputs": "0.6*SR + 0.4*EPA",
    "derived_from": "L3 team-week aggregates",
    "written_to": "data/l4_core12/<season>/<week>.parquet",
    "used_by": "metrics/power_score.py:compute; app/reports.generate_team_report",
    "tests": "tests/test_metrics_core12.py::test_core12_compute_generates_expected_columns",
    "aliases": null
  },
  {
    "stat_key": "L4PowerScore.season",
    "display_name": "Season",
    "layer": "L4 PowerScore",
    "file_path": "metrics/power_score.py",
    "function": "compute",
    "lines": "78-160",
    "inputs": "Core12.season",
    "derived_from": "Core12 dataset + config weights",
    "written_to": "data/l4_powerscore/<season>/<week>.parquet",
    "used_by": "app/reports.make_charts; app/reports.generate_team_report; app.cli.compare_report",
    "tests": "tests/test_powerscore.py::test_powerscore_monotonic",
    "aliases": null
  },
  {
    "stat_key": "L4PowerScore.week",
    "display_name": "Week",
    "layer": "L4 PowerScore",
    "file_path": "metrics/power_score.py",
    "function": "compute",
    "lines": "78-160",
    "inputs": "Core12.week",
    "derived_from": "Core12 dataset + config weights",
    "written_to": "data/l4_powerscore/<season>/<week>.parquet",
    "used_by": "app/reports.make_charts; app/reports.generate_team_report; app.cli.compare_report",
    "tests": "tests/test_powerscore.py::test_powerscore_monotonic",
    "aliases": null
  },
  {
    "stat_key": "L4PowerScore.team",
    "display_name": "Team code",
    "layer": "L4 PowerScore",
    "file_path": "metrics/power_score.py",
    "function": "compute",
    "lines": "78-160",
    "inputs": "Core12.TEAM + alias map",
    "derived_from": "Core12 dataset + config weights",
    "written_to": "data/l4_powerscore/<season>/<week>.parquet",
    "used_by": "app/reports.make_charts; app/reports.generate_team_report; app.cli.compare_report",
    "tests": "tests/test_powerscore.py::test_powerscore_monotonic",
    "aliases": "TEAM (upstream)"
  },
  {
    "stat_key": "L4PowerScore.power_score",
    "display_name": "Weighted PowerScore",
    "layer": "L4 PowerScore",
    "file_path": "metrics/power_score.py",
    "function": "compute",
    "lines": "78-160",
    "inputs": "Core12 metrics * config weights",
    "derived_from": "Core12 dataset + config weights",
    "written_to": "data/l4_powerscore/<season>/<week>.parquet",
    "used_by": "app/reports.make_charts; app/reports.generate_team_report; app.cli.compare_report",
    "tests": "tests/test_powerscore.py::test_powerscore_monotonic",
    "aliases": null
  }
]